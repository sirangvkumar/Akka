<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>AMMA</title>
  <meta name="description" content="">
  <script src="./js/aframe.min.js"></script>
  <script src="./js/aframe-bmfont-text-component.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
</head>

<body>
  <a-scene auto-enter-vr>
    <a-assets>
      <img id="mute" src="assets/song_off.png">
      <img id="unmute" src="assets/song.png">
      <img id="close" src="assets/home.png">
      <a-mixin id="cube" geometry="primitive: box"></a-mixin>
      <a-mixin id="cube-hovered" material="color: magenta"></a-mixin>
      <a-mixin id="cube-selected" material="color: cyan"></a-mixin>
      <a-mixin id="red" material="color: red"></a-mixin>
      <a-mixin id="green" material="color: green"></a-mixin>
      <a-mixin id="blue" material="color: blue"></a-mixin>
      <a-mixin id="yellow" material="color: yellow"></a-mixin>
      <a-mixin id="sphere" geometry="primitive: sphere"></a-mixin>
    </a-assets>
    <a-assets>
      <audio id="background_audio" src="assets/music.mp3"></audio>
    </a-assets>
    <a-assets>
      <img id="bg" src="assets/bg.jpg" />

      <img id="pic1" src="assets/1.jpg" />
      <img id="pic2" src="assets/2.jpg" />
      <img id="pic3" src="assets/3.jpg" />
      <img id="pic4" src="assets/4.jpg" />
      <img id="pic5" src="assets/5.jpg" />
      <img id="pic6" src="assets/6.jpg" />
      <img id="pic7" src="assets/7.jpg" />
    </a-assets>

    <a-image id="mute-image" src="#mute" position="-1 -1 0"></a-image>
    <a-image id="close-image" src="#close" position="1 -1 0"></a-image>
    <a-entity position="0 2 4">
      <a-entity camera look-controls wasd-controls>
        <a-entity position="0 0 -3" scale="0.2 0.2 0.2" geometry="primitive: ring; radiusOuter: 0.20;radiusInner: 0.10;"
          material="color: #ADD8E6; shader: flat" cursor="maxDistance: 30; fuse: true">
          <a-animation begin="click" easing="ease-in" attribute="scale" fill="backwards" from="0.1 0.1 0.1" to="1 1 1"
            dur="150"></a-animation>
          <a-animation begin="fusing" easing="ease-in" attribute="scale" fill="forwards" from="1 1 1" to="0.2 0.2 0.2"
            dur="1500"></a-animation>
        </a-entity>
      </a-entity>
    </a-entity>

    <a-curvedimage id="7" src="#pic7" transparent="true" height="5" radius="5" theta-length="70" rotation="0  360 0"
      position="3 2 6">
    </a-curvedimage>

    <a-curvedimage id="img1" src="#pic1" transparent="true" height="5" radius="5" theta-length="40" rotation="0  180 0"
    position="0 0 -2">
  </a-curvedimage>

  <a-curvedimage id="img4" src="#pic4" transparent="true" height="5" radius="5" theta-length="40" rotation="0  120 0"
  position="0 0 -2">
</a-curvedimage>
<!-- 
    <a-entity>
      <a-animation attribute="position" from="-50 0 -5" to="-50 0 -5" repeat="indefinite"></a-animation>
      <a-image position="16 4 -15" height="15" width="15" src="#pic1"></a-image>
    </a-entity> -->

    <a-entity>
      <a-animation attribute="position" from="-30 0 -5" to="-30 0 -5" repeat="indefinite"></a-animation>
      <a-image position="16 4 -15" height="15" width="15" src="#pic2"></a-image>
    </a-entity>

    <a-entity>
      <a-animation attribute="position" from="-10 0 -5" to="-10 0 -5" repeat="indefinite"></a-animation>
      <a-image position="16 4 -15" height="15" width="20" src="#pic4"></a-image>
    </a-entity>
<!-- 
    <a-entity>
      <a-animation attribute="position" from="15 0 -5" to="15 0 -5" repeat="0"></a-animation>
      <a-image position="16 4 -15" height="15" width="20" src="#pic3"></a-image>
    </a-entity> -->

    <!-- <a-entity>
      <a-animation attribute="position" from="-10 -20 -40" to="-10 -20 -40" repeat="0"></a-animation>
      <a-image position="16 4 -15" height="45" width="50" src="#pic5"></a-image>
    </a-entity>

    <a-entity>
      <a-animation attribute="position" from="-10 20 -40" to="-10 20 -40" repeat="0"></a-animation>
      <a-image position="16 4 -15" height="45" width="50" src="#pic6"></a-image>
    </a-entity> -->


    <!-- <a-entity position="-5 -5 -15">
      <a-entity geometry="primitive: sphere; radius: 1" position="-1 1 0" material="color: #d50f25">
        <a-animation attribute="position" from="-30 1 -15" to="19 1 -15" duration="3000" direction="normal"
          repeat="indefinite"></a-animation>
      </a-entity>
      <a-entity position="5 5 50">
        <a-entity geometry="primitive: sphere; radius: 1" position="-1 1 0" material="color: #d50f25">
          <a-animation attribute="position" from="-30 1 -15" to="19 1 -15" duration="3000" direction="normal"
            repeat="indefinite"></a-animation>
        </a-entity> -->



        <a-sky src="#bg"></a-sky>
  </a-scene>
  <script>
    AFRAME.registerComponent('auto-enter-vr', {
      init: function () {
        this.el.sceneEl.enterVR();
      }
    });

    var template = $('#hidden-template').html();
    var audio = document.querySelector('#background_audio');
    audio.addEventListener('loadeddata', function () {
      audio.play();
      $('a-scene').append(template);
    });
    var muted = false;
    var muteImage = document.querySelector("#mute-image");
    document.querySelector('#mute-image').addEventListener('click', function () {
      muted = !muted;
      document.getElementById('background_audio').muted = muted;
      if (muted) {
        muteImage.setAttribute('material', {
          'src': '#unmute',
          'transparent': true
        });
      } else {
        muteImage.setAttribute('material', {
          'src': '#mute',
          'transparent': true
        });
      }
    });
    document.querySelector("#close-image").addEventListener('click', function () {
      window.location.href = "../../index.html";

    });
  </script>
</body>

</html>